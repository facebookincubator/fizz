# Copyright (c) Meta Platforms, Inc. and affiliates.
# All rights reserved.
#
# This source code is licensed under the BSD-style license found in the
# LICENSE file in the root directory of this source tree.
#
# Auto-generated by fizz/facebook/generate_cmake.py - DO NOT EDIT MANUALLY

fizz_add_library(fizz_server_protocol
  SRCS
    ServerProtocol.cpp
    State.cpp
  DEPS
    fizz_crypto_exchange_async_key_exchange
    fizz_crypto_utils
    fizz_protocol_certificate_verifier
    fizz_protocol_ech_decrypter
    fizz_protocol_protocol
    fizz_protocol_state_machine
    fizz_record_plaintext_record_layer
    fizz_server_async_self_cert
    fizz_server_negotiator
    fizz_server_replay_cache
    fizz_util_workarounds
    Folly::folly_overload
    Folly::folly_tracing_static_tracepoint
  EXPORTED_DEPS
    fizz_protocol_actions
    fizz_protocol_certificate
    fizz_protocol_ech_encrypted_client_hello
    fizz_protocol_key_scheduler
    fizz_protocol_params
    fizz_protocol_types
    fizz_record_record
    fizz_record_record_layer
    fizz_server_fizz_server_context
    fizz_server_handshake_logging
    fizz_server_resumption_state
    fizz_server_server_extensions
    fizz_util_status
    fizz_util_variant
    Folly::folly_futures_core
    Folly::folly_optional
    Folly::folly_small_vector
)

fizz_add_library(fizz_server_negotiator
  EXPORTED_DEPS
    Folly::folly_optional
)

fizz_add_library(fizz_server_fizz_server_context
  SRCS
    FizzServerContext.cpp
  DEPS
    fizz_protocol_default_factory
  EXPORTED_DEPS
    fizz_protocol_certificate
    fizz_protocol_clock_system_clock
    fizz_protocol_ech_decrypter
    fizz_protocol_factory
    fizz_record_record
    fizz_server_cert_manager
    fizz_server_cookie_cipher
    fizz_server_negotiator
    fizz_server_replay_cache
    fizz_server_ticket_cipher
)

fizz_add_library(fizz_server_ticket_policy
  EXPORTED_DEPS
    fizz_protocol_clock_system_clock
    fizz_protocol_types
    fizz_server_resumption_state
)

fizz_add_library(fizz_server_ticket_cipher
  EXPORTED_DEPS
    fizz_server_resumption_state
    Folly::folly_futures_core
    Folly::folly_io_iobuf
    Folly::folly_optional
)

fizz_add_library(fizz_server_dual_ticket_cipher
  EXPORTED_DEPS
    fizz_server_ticket_cipher
)

fizz_add_library(fizz_server_ticket_codec
  SRCS
    TicketCodec.cpp
  DEPS
    Folly::folly_io_async_ssl_openssl_transport_certificate
    Folly::folly_ssl_openssl_cert_utils
  EXPORTED_DEPS
    fizz_record_record
    fizz_server_fizz_server_context
    fizz_server_resumption_state
)

fizz_add_library(fizz_server_aead_ticket_cipher
  EXPORTED_DEPS
    fizz_server_aead_token_cipher
    fizz_server_fizz_server_context
    fizz_server_ticket_cipher
    fizz_server_ticket_policy
)

fizz_add_library(fizz_server_token_cipher
  EXPORTED_DEPS
    Folly::folly_io_iobuf
    Folly::folly_optional
    Folly::folly_range
)

fizz_add_library(fizz_server_aead_token_cipher
  SRCS
    AeadTokenCipher.cpp
  DEPS
    fizz_crypto_aead_aead
    fizz_crypto_random
    fizz_crypto_utils
  EXPORTED_DEPS
    fizz_backend_openssl
    fizz_crypto_hkdf
    fizz_record_record
    fizz_server_token_cipher
    Folly::folly_io_iobuf
    Folly::folly_optional
)

fizz_add_library(fizz_server_ticket_types
  EXPORTED_DEPS
    fizz_backend_openssl
    fizz_crypto_hkdf
    fizz_protocol_types
    fizz_server_aead_ticket_cipher
    fizz_server_ticket_codec
)

fizz_add_library(fizz_server_resumption_state
  EXPORTED_DEPS
    fizz_protocol_certificate
    fizz_protocol_types
    fizz_record_record
)

fizz_add_library(fizz_server_cookie_cipher
  SRCS
    CookieCipher.cpp
  DEPS
    fizz_protocol_handshake_context
    fizz_server_negotiator
  EXPORTED_DEPS
    fizz_protocol_ech_encrypted_client_hello
    fizz_protocol_factory
    fizz_record_record
)

fizz_add_library(fizz_server_aead_cookie_cipher
  SRCS
    AeadCookieCipher.cpp
  DEPS
    fizz_record_record
  EXPORTED_DEPS
    fizz_server_cookie_cipher
    fizz_server_fizz_server_context
    fizz_server_token_cipher
)

fizz_add_library(fizz_server_cookie_types
  EXPORTED_DEPS
    fizz_backend_openssl
    fizz_crypto_hkdf
    fizz_protocol_types
    fizz_server_aead_cookie_cipher
)

fizz_add_library(fizz_server_async_self_cert
  EXPORTED_DEPS
    fizz_protocol_certificate
    Folly::folly_futures_core
)

fizz_add_library(fizz_server_fizz_server
  SRCS
    FizzServer.cpp
  EXPORTED_DEPS
    fizz_protocol_fizz_base
    fizz_server_fizz_server_context
    fizz_server_protocol
    fizz_util_workarounds
    Folly::folly_overload
)

fizz_add_library(fizz_server_async_fizz_server
  EXPORTED_DEPS
    fizz_protocol_async_fizz_base
    fizz_protocol_exporter
    fizz_server_fizz_server
    fizz_server_fizz_server_context
    fizz_server_protocol
    fizz_util_tracer
)

fizz_add_library(fizz_server_cert_manager
  SRCS
    DefaultCertManager.cpp
  DEPS
    Folly::folly_string
  EXPORTED_DEPS
    fizz_protocol_certificate
)

fizz_add_library(fizz_server_server_extensions
  EXPORTED_DEPS
    fizz_record_record
)

fizz_add_library(fizz_server_replay_cache
  SRCS
    ReplayCache.cpp
  EXPORTED_DEPS
    Folly::folly_futures_core
    Folly::folly_io_iobuf
    Folly::folly_range
)

fizz_add_library(fizz_server_sliding_bloom_replay_cache
  SRCS
    SlidingBloomReplayCache.cpp
  DEPS
    fizz_crypto_random
    Folly::folly_io_iobuf
    Folly::folly_portability_unistd
    Folly::folly_range
  EXPORTED_DEPS
    fizz_server_replay_cache
    Folly::folly_io_async_async_base
)

fizz_add_library(fizz_server_multi_server_extensions
  SRCS
    MultiServerExtensions.cpp
  EXPORTED_DEPS
    fizz_server_server_extensions
)

fizz_add_library(fizz_server_handshake_logging
  SRCS
    HandshakeLogging.cpp
  EXPORTED_DEPS
    fizz_record_record
)
